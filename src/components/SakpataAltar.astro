---
// src/components/art/SakpataAltar.astro
---

<div class="art-container">
  <div class="canvas">
    <div class="texture"></div>
    <div class="vignette"></div>
    <div class="highlight animate-pulse-slow"></div>

    <div class="caption">FIG. SACRÉE - AUTEL DE SAKPATA</div>

    <div class="altar-mound"></div>

    <div class="calebasse float-slow"></div>

    <div class="jarre-container">
      <div class="jarre-neck"></div>
      <div class="jarre-body">
        <div class="hole h1"></div>
        <div class="hole h2"></div>
        <div class="hole h3"></div>
        <div class="hole h4"></div>
      </div>
      <div class="drape drape-black sway"></div>
    </div>

    <div class="drape drape-red sway-delay"></div>
    <div class="drape drape-white sway-delay-2"></div>

    <div class="cauri c1 float-fast"></div>
    <div class="cauri c2 float-medium"></div>
    <div class="cauri c3 float-slow"></div>
  </div>
</div>

<style>
  /* --- CONTENEUR RESPONSIVE --- */
  .art-container {
    width: 100%;
    max-width: 800px;
    margin: 40px auto;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(212, 175, 55, 0.2);
  }

  .canvas {
    width: 100%;
    aspect-ratio: 16 / 9; /* Format Cinéma */
    position: relative;
    background: linear-gradient(to bottom, #2b1d1a 0%, #4e342e 100%);
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    isolation: isolate;
  }

  /* --- TEXTURES & LUMIERES --- */
  .texture {
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
    z-index: 10;
    pointer-events: none;
  }

  .vignette {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle, transparent 40%, #1a0f0d 100%);
    z-index: 8;
  }

  .highlight {
    position: absolute;
    top: -50%;
    right: -20%;
    width: 150%;
    height: 150%;
    background: radial-gradient(
      circle,
      rgba(255, 165, 0, 0.08) 0%,
      transparent 70%
    );
    z-index: 0;
    pointer-events: none;
  }

  .caption {
    position: absolute;
    top: 20px;
    left: 20px;
    font-family: "Courier New", monospace;
    color: #d4af37;
    opacity: 0.6;
    font-size: 0.7rem;
    border-left: 2px solid #d4af37;
    padding-left: 10px;
    z-index: 11;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* --- OBJETS --- */
  .altar-mound {
    position: absolute;
    bottom: -15%;
    width: 80%;
    height: 35%;
    background: #5d4037;
    border-radius: 50% 50% 0 0;
    box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.3);
    z-index: 1;
  }

  .jarre-container {
    position: relative;
    z-index: 5;
    bottom: 12%;
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.6));
    transform: scale(0.8); /* Ajustement échelle */
  }
  @media (min-width: 640px) {
    .jarre-container {
      transform: scale(1);
    }
  }

  .jarre-body {
    width: 140px;
    height: 180px;
    background: radial-gradient(circle at 30% 30%, #a1887f, #5d4037, #3e2723);
    border-radius: 45%;
    position: relative;
  }

  .jarre-neck {
    width: 80px;
    height: 30px;
    background: #4e342e;
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 5px;
    border-top: 4px solid #3e2723;
  }

  .hole {
    position: absolute;
    background: #2b1d1a;
    border-radius: 50%;
    box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.8);
  }
  .h1 {
    width: 12px;
    height: 12px;
    top: 30%;
    left: 40%;
  }
  .h2 {
    width: 10px;
    height: 10px;
    top: 50%;
    left: 70%;
  }
  .h3 {
    width: 15px;
    height: 15px;
    top: 60%;
    left: 30%;
  }
  .h4 {
    width: 8px;
    height: 8px;
    top: 40%;
    left: 80%;
  }

  /* TISSUS */
  .drape {
    position: absolute;
    width: 40px;
    height: 200px;
    top: 5%;
    z-index: 4;
    transform-origin: top center;
  }
  .drape-red {
    background: #8b0000;
    left: 35%;
    transform: rotate(-15deg);
    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
    height: 250px;
  }
  .drape-white {
    background: #d7ccc8;
    left: 60%;
    transform: rotate(10deg);
    box-shadow: -2px 2px 10px rgba(0, 0, 0, 0.3);
    z-index: 3;
    height: 250px;
  }
  .drape-black {
    background: #212121;
    left: 50%;
    transform: translate(-50%, 0);
    width: 30px;
    z-index: 6;
    height: 120px;
    opacity: 0.95;
  }

  /* CALEBASSE & CAURIS */
  .calebasse {
    width: 60px;
    height: 60px;
    background: radial-gradient(circle at 40% 40%, #ffecb3, #ffb300, #ff6f00);
    border-radius: 50% 50% 45% 45%;
    position: absolute;
    bottom: 8%;
    left: 25%;
    z-index: 6;
    transform: rotate(-10deg);
    clip-path: polygon(0% 30%, 100% 30%, 100% 100%, 0% 100%);
  }

  .cauri {
    width: 20px;
    height: 28px;
    background: #fff8e1;
    border-radius: 50%;
    position: absolute;
    z-index: 7;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .cauri::after {
    content: "";
    width: 2px;
    height: 16px;
    background: #d7ccc8;
    border-left: 2px solid #efebe9;
    border-radius: 2px;
  }
  .c1 {
    bottom: 10%;
    right: 28%;
    transform: rotate(45deg);
  }
  .c2 {
    bottom: 8%;
    right: 25%;
    transform: rotate(-20deg);
  }
  .c3 {
    bottom: 12%;
    right: 22%;
    transform: rotate(80deg);
  }

  /* --- ANIMATIONS --- */
  .animate-pulse-slow {
    animation: pulse 8s infinite alternate ease-in-out;
  }
  @keyframes pulse {
    0% {
      opacity: 0.4;
      transform: scale(1);
    }
    100% {
      opacity: 0.7;
      transform: scale(1.05);
    }
  }

  .sway {
    animation: sway 5s infinite ease-in-out alternate;
  }
  .sway-delay {
    animation: sway 6s infinite ease-in-out alternate-reverse;
  }
  .sway-delay-2 {
    animation: sway 7s infinite ease-in-out alternate 1s;
  }

  @keyframes sway {
    0% {
      transform: rotate(-2deg) translateY(0);
    }
    100% {
      transform: rotate(2deg) translateY(2px);
    }
  }

  .float-slow {
    animation: float 6s infinite ease-in-out;
  }
  .float-medium {
    animation: float 5s infinite ease-in-out 1s;
  }
  .float-fast {
    animation: float 4s infinite ease-in-out 0.5s;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-3px);
    }
  }
</style>
